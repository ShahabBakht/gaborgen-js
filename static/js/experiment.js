// Generated by CoffeeScript 1.10.0
(function() {
  var all_trials, experiment_blocks, gabor_block, post_trial_gap, test_stimuli;

  test_stimuli = [
    {
      stimulus: "static/images/blue.png",
      data: {
        response: "go"
      }
    }, {
      stimulus: "static/images/orange.png",
      data: {
        response: "no-go"
      }
    }
  ];

  all_trials = jsPsych.randomization.repeat(test_stimuli, 1);

  post_trial_gap = function() {
    return Math.floor(Math.random() * 1500) + 750;
  };

  gabor_block = {
    type: "single-stim",
    choices: ['F'],
    timing_response: 1500,
    timing_post_trial: post_trial_gap,
    on_finish: function(data) {
      var correct;
      correct = false;
      if (data.response === 'go' && data.rt > -1) {
        correct = true;
      }
      if (data.response === 'no-go' && data.rt === -1) {
        correct = true;
      }
      jsPsych.data.addDataToLastTrial({
        correct: correct
      });
    },
    timeline: all_trials
  };

  experiment_blocks = [gabor_block];

  jsPsych.init({
    display_element: $('#jspsych-target'),
    timeline: experiment_blocks,
    on_finish: function() {
      return jsPsych.data.displayData();
    }
  });

}).call(this);
